<div class="page-container">
  <div class="sidebar">
    <h3>Agente Cliente</h3>
    <div class="chat-messages" id="chat-messages">
      <div *ngFor="let msg of messages" [ngClass]="msg.type === 'user' ? 'user-message' : 'agent-message'">{{ msg.text }}</div>
    </div>

    <div class="chat-input">
      <input [(ngModel)]="userQuery" name="query" placeholder="Escribe tu mensaje..." [disabled]="loading" />
      <button id="send-message" (click)="sendMessage()" title="Enviar mensaje" class="btn-send" [disabled]="loading">{{ loading ? 'Enviando...' : 'â–¶ Enviar' }}</button>
    </div>
  </div>

  <div class="container main-content">
    <div *ngIf="loading" class="loading">â³ Consultando agente...</div>
    <div *ngIf="error && !loading" class="error">âŒ {{ error }}</div>

    <div *ngIf="products.length; else noProducts">
      <div class="section-title">Productos encontrados ({{ products.length }})</div>
      <div class="productos-grid grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
        <app-product-card *ngFor="let product of products" [product]="product"></app-product-card>
      </div>
    </div>

    <ng-template #noProducts>
      <div *ngIf="!loading" class="no-data">ğŸ“­ Realiza una bÃºsqueda para ver productos</div>
    </ng-template>
  </div>
</div>
